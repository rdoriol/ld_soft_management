1731524479
waR3U4bTeM%3A9f185eb4225202c53e60753b5e643e4e-d981247c17787ea052238408e18045f2
s:39968:"TzozMzoicGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlIjoxNDp7czo0MzoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBkb2NCbG9jayI7TjtzOjM5OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGhhc2giO3M6MzI6ImQ5ODEyNDdjMTc3ODdlYTA1MjIzODQwOGUxODA0NWYyIjtzOjM5OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAG5hbWUiO3M6OToiZ3JhcGgucGhwIjtzOjM5OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAHBhdGgiO3M6MjY6InZlbmRvci9tcGRmL21wZGYvZ3JhcGgucGhwIjtzOjQxOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAHNvdXJjZSI7czoyNjA0NDoiPD9waHAKCi8vIG1QREYgNC41LjAwOQpkZWZpbmUoIkZGX1VTRVJGT05UIiwgMTUpOyAvLyBTZWUganBncmFwaF90dGYuaW5jLnBocCBmb3IgZm9udCBJRHMKZ2xvYmFsICRKcGdVc2VTVkdGb3JtYXQ7CiRKcGdVc2VTVkdGb3JtYXQgPSB0cnVlOwoKLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KLy8gREVMRVRFIE9MRCBHUkFQSCBGSUxFUyBGSVJTVCAtIEhvdXNla2VlcGluZwovLyBGaXJzdCBjbGVhciBhbnkgZmlsZXMgaW4gZGlyZWN0b3J5IHRoYXQgYXJlID4xIGhycyBvbGQKJGludGVydmFsID0gMzYwMDsKaWYgKCRoYW5kbGUgPSBvcGVuZGlyKF9NUERGX1BBVEggLiAnZ3JhcGhfY2FjaGUnKSkgewoJd2hpbGUgKGZhbHNlICE9PSAoJGZpbGUgPSByZWFkZGlyKCRoYW5kbGUpKSkgewoJCWlmICgoKGZpbGVtdGltZShfTVBERl9QQVRIIC4gJ2dyYXBoX2NhY2hlLycgLiAkZmlsZSkgKyAkaW50ZXJ2YWwpIDwgdGltZSgpKSAmJiAoJGZpbGUgIT0gIi4uIikgJiYgKCRmaWxlICE9ICIuIikpIHsKCQkJQHVubGluayhfTVBERl9QQVRIIC4gJ2dyYXBoX2NhY2hlLycgLiAkZmlsZSk7ICAvLyBtUERGIDQuMAoJCX0KCX0KCWNsb3NlZGlyKCRoYW5kbGUpOwp9Ci8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KLy8gTE9BRCBHUkFQSFMKCmluY2x1ZGVfb25jZShfSlBHUkFQSF9QQVRIIC4gJ2pwZ3JhcGgucGhwJyk7CmluY2x1ZGVfb25jZShfSlBHUkFQSF9QQVRIIC4gJ2pwZ3JhcGhfbGluZS5waHAnICk7CmluY2x1ZGVfb25jZShfSlBHUkFQSF9QQVRIIC4gJ2pwZ3JhcGhfbG9nLnBocCcgKTsKaW5jbHVkZV9vbmNlKF9KUEdSQVBIX1BBVEggLiAnanBncmFwaF9zY2F0dGVyLnBocCcgKTsKaW5jbHVkZV9vbmNlKF9KUEdSQVBIX1BBVEggLiAnanBncmFwaF9yZWdzdGF0LnBocCcgKTsKaW5jbHVkZV9vbmNlKF9KUEdSQVBIX1BBVEggLiAnanBncmFwaF9waWUucGhwJyk7CmluY2x1ZGVfb25jZShfSlBHUkFQSF9QQVRIIC4gJ2pwZ3JhcGhfcGllM2QucGhwJyk7CmluY2x1ZGVfb25jZShfSlBHUkFQSF9QQVRIIC4gJ2pwZ3JhcGhfYmFyLnBocCcpOwppbmNsdWRlX29uY2UoX0pQR1JBUEhfUEFUSCAuICdqcGdyYXBoX3JhZGFyLnBocCcpOwoKcmVxdWlyZV9vbmNlIF9fRElSX18gLiAnL01wZGZFeGNlcHRpb24ucGhwJzsKCmZ1bmN0aW9uIHByaW50X2dyYXBoKCRnLCAkcGd3aWR0aCkKewoJJHNwbGluZXMgPSBmYWxzZTsKCSRiYW5kdyA9IGZhbHNlOwoJJHBlcmNlbnQgPSBmYWxzZTsKCSRzaG93X3BlcmNlbnQgPSBmYWxzZTsKCSRzdGFja2VkID0gZmFsc2U7CgkkaCA9IGZhbHNlOwoJJHNob3dfdmFsdWVzID0gZmFsc2U7CgkkaGlkZV9ncmlkID0gZmFsc2U7CgkkaGlkZV95X2F4aXMgPSBmYWxzZTsKCglpZiAoaXNzZXQoJGdbJ2F0dHInXVsnVFlQRSddKSAmJiAkZ1snYXR0ciddWydUWVBFJ10pIHsKCQkkdHlwZSA9IHN0cnRvbG93ZXIoJGdbJ2F0dHInXVsnVFlQRSddKTsKCX0KCWlmICghaW5fYXJyYXkoJHR5cGUsIGFycmF5KCdiYXInLCAnaG9yaXpfYmFyJywgJ2xpbmUnLCAncmFkYXInLCAncGllJywgJ3BpZTNkJywgJ3h5JywgJ3NjYXR0ZXInKSkpIHsKCQkkdHlwZSA9ICdiYXInOwoJfSAvLyBEZWZhdWx0PWJhcgoKCWlmIChpc3NldCgkZ1snYXR0ciddWydTVEFDS0VEJ10pICYmICRnWydhdHRyJ11bJ1NUQUNLRUQnXSkgewoJCSRzdGFja2VkID0gdHJ1ZTsKCX0gLy8gc3RhY2tlZCBmb3IgYmFyIG9yIGhvcml6X2JhcgoJaWYgKGlzc2V0KCRnWydhdHRyJ11bJ1NQTElORVMnXSkgJiYgJGdbJ2F0dHInXVsnU1BMSU5FUyddICYmICR0eXBlID09ICd4eScpIHsKCQkkc3BsaW5lcyA9IHRydWU7Cgl9IC8vIHNwbGluZXMgZm9yIFhZIGxpbmUgZ3JhcGhzCglpZiAoaXNzZXQoJGdbJ2F0dHInXVsnQkFORFcnXSkgJiYgJGdbJ2F0dHInXVsnQkFORFcnXSkgewoJCSRiYW5kdyA9IHRydWU7Cgl9IC8vIGJsYWNrIGFuZCB3aGl0ZQoJaWYgKGlzc2V0KCRnWydhdHRyJ11bJ0xFR0VORC1PVkVSTEFQJ10pICYmICRnWydhdHRyJ11bJ0xFR0VORC1PVkVSTEFQJ10pIHsKCQkkb3ZlcmxhcCA9IHRydWU7Cgl9IC8vIGF2b2lkIG92ZXJsYXAgb2YgTGVnZW5kcyBvdmVyIGdyYXBoIChsaW5lLCBiYXIsIGhvcml6X2JhciBvbmx5KQoJaWYgKGlzc2V0KCRnWydhdHRyJ11bJ1BFUkNFTlQnXSkgJiYgJGdbJ2F0dHInXVsnUEVSQ0VOVCddICYmICR0eXBlICE9ICd4eScgJiYgJHR5cGUgIT0gJ3NjYXR0ZXInKSB7CgkJJHBlcmNlbnQgPSB0cnVlOwoJfSAvLyBTaG93IGRhdGEgc2VyaWVzIGFzIHBlcmNlbnQgb2YgdG90YWwgaW4gc2VyaWVzCglpZiAoaXNzZXQoJGdbJ2F0dHInXVsnU0hPVy1WQUxVRVMnXSkgJiYgJGdbJ2F0dHInXVsnU0hPVy1WQUxVRVMnXSkgewoJCSRzaG93X3ZhbHVlcyA9IHRydWU7Cgl9IC8vIFNob3cgdGhlIGluZGl2aWR1YWwgZGF0YSB2YWx1ZXMKCWlmIChpc3NldCgkZ1snYXR0ciddWydISURFLUdSSUQnXSkgJiYgJGdbJ2F0dHInXVsnSElERS1HUklEJ10pIHsKCQkkaGlkZV9ncmlkID0gdHJ1ZTsKCX0gLy8gSGlkZSB0aGUgeS1heGlzIGdyaWRsaW5lcwoJaWYgKGlzc2V0KCRnWydhdHRyJ11bJ0hJREUtWS1BWElTJ10pICYmICRnWydhdHRyJ11bJ0hJREUtWS1BWElTJ10pIHsKCQkkaGlkZV95X2F4aXMgPSB0cnVlOwoJfSAvLyBIaWRlIHRoZSB5LWF4aXMKCS8vIEFudGlhbGlhczogSWYgdHJ1ZSAtIGJldHRlciBxdWFsaXR5IGN1cnZlcywgYnV0IGdyYXBoIGxpbmUgd2lsbCBvbmx5IGJlIDFweCBldmVuIGluIFBERiAzMDBkcGkKCS8vIGRlZmF1bHQ9dHJ1ZSBmb3IgbW9zdCBleGNlcHQgbGluZSBhbmQgcmFkYXIKCWlmIChpc3NldCgkZ1snYXR0ciddWydBTlRJQUxJQVMnXSkgJiYgKCRnWydhdHRyJ11bJ0FOVElBTElBUyddID09ICcnIHx8ICRnWydhdHRyJ11bJ0FOVElBTElBUyddID09IDApKSB7CgkJJGFudGlhbGlhcyA9IGZhbHNlOwoJfSBlbHNlIGlmIChpc3NldCgkZ1snYXR0ciddWydBTlRJQUxJQVMnXSkgJiYgJGdbJ2F0dHInXVsnQU5USUFMSUFTJ10gPiAwKSB7CgkJJGFudGlhbGlhcyA9IHRydWU7Cgl9IGVsc2UgaWYgKCR0eXBlID09ICdsaW5lJyB8fCAkdHlwZSA9PSAncmFkYXInKSB7CgkJJGFudGlhbGlhcyA9IGZhbHNlOwoJfSBlbHNlIHsKCQkkYW50aWFsaWFzID0gdHJ1ZTsKCX0KCglpZiAoJGdbJ2F0dHInXVsnRFBJJ10pIHsKCQkkZHBpID0gaW50dmFsKCRnWydhdHRyJ11bJ0RQSSddKTsKCX0KCWlmICghJGRwaSB8fCAkZHBpIDwgNTAgfHwgJGRwaSA+IDI0MDApIHsKCQkkZHBpID0gMTUwOwoJfSAgLy8gRGVmYXVsdCBkcGkgMTUwCgkkayA9ICgwLjI2NDUgLyAyNS40ICogJGRwaSk7CgoJLy8gbVBERiA0LjUuMDA5CglnbG9iYWwgJEpwZ1VzZVNWR0Zvcm1hdDsKCWlmIChpc3NldCgkSnBnVXNlU1ZHRm9ybWF0KSAmJiAkSnBnVXNlU1ZHRm9ybWF0KSB7CgkJJGltZ190eXBlID0gJ3N2Zyc7CgkJJGsgPSAxOyAvLyBPdmVycmlkZXMgYXMgVmVjdG9yIHNjYWxlIGRvZXMgbm90IG5lZWQgRFBJCgl9IGVsc2UgewoJCSRpbWdfdHlwZSA9ICdwbmcnOwoJfQoKCWlmIChpc3NldCgkZ1snYXR0ciddWydUSVRMRSddKSAmJiAkZ1snYXR0ciddWydUSVRMRSddKSB7CgkJJHRpdGxlID0gJGdbJ2F0dHInXVsnVElUTEUnXTsKCX0KCglpZiAoaXNzZXQoJGdbJ2F0dHInXVsnTEFCRUwtWCddKSAmJiAkZ1snYXR0ciddWydMQUJFTC1YJ10pIHsKCQkkeGxhYmVsID0gJGdbJ2F0dHInXVsnTEFCRUwtWCddOwoJfSAgLy8gTk9UIElNUExFTUVOVEVEPz8/Pz8/CglpZiAoaXNzZXQoJGdbJ2F0dHInXVsnTEFCRUwtWSddKSAmJiAkZ1snYXR0ciddWydMQUJFTC1ZJ10pIHsKCQkkeWxhYmVsID0gJGdbJ2F0dHInXVsnTEFCRUwtWSddOwoJfQoKCWlmIChpc3NldCgkZ1snYXR0ciddWydBWElTLVgnXSkgJiYgJGdbJ2F0dHInXVsnQVhJUy1YJ10pIHsKCQkkeGF4aXMgPSBzdHJ0b2xvd2VyKCRnWydhdHRyJ11bJ0FYSVMtWCddKTsKCX0KCWlmICghaW5fYXJyYXkoJHhheGlzLCBhcnJheSgndGV4dCcsICdsaW4nLCAnbGluZWFyJywgJ2xvZycpKSkgewoJCSR4YXhpcyA9ICd0ZXh0JzsKCX0gLy8gRGVmYXVsdD10ZXh0CglpZiAoJHhheGlzID09ICdsaW5lYXInKSB7CgkJJHhheGlzID0gJ2xpbic7Cgl9CgoJaWYgKGlzc2V0KCRnWydhdHRyJ11bJ0FYSVMtWSddKSAmJiAkZ1snYXR0ciddWydBWElTLVknXSkgewoJCSR5YXhpcyA9IHN0cnRvbG93ZXIoJGdbJ2F0dHInXVsnQVhJUy1ZJ10pOwoJfQoJaWYgKCFpbl9hcnJheSgkeWF4aXMsIGFycmF5KCdsaW4nLCAnbGluZWFyJywgJ2xvZycsICdwZXJjZW50JykpKSB7CgkJJHlheGlzID0gJ2xpbic7Cgl9ICAgLy8gRGVmYXVsdD1saW4KCWlmICgkeWF4aXMgPT0gJ3BlcmNlbnQnKSB7CgkJJHNob3dfcGVyY2VudCA9IHRydWU7CgkJJHlheGlzID0gJ2xpbic7Cgl9IC8vIFNob3cgcGVyY2VudCBzaWduIG9uIHNjYWxlcwoJaWYgKCR5YXhpcyA9PSAnbGluZWFyJykgewoJCSR5YXhpcyA9ICdsaW4nOwoJfQoKCWlmICgkc3BsaW5lcykgewoJCSR4YXhpcyA9ICdsaW4nOwoJfQoJJGF4ZXMgPSAkeGF4aXMgLiAkeWF4aXM7IC8vIGUuZy50ZXh0bGluLCB0ZXh0bG9nLCBsb2dsb2csIGxvZ2xpbiwgbGlubG9nIChYWSkKCS8vIG1QREYgNC4wCglpZiAoaXNzZXQoJGdbJ2F0dHInXVsnY1dJRFRIJ10pICYmICRnWydhdHRyJ11bJ2NXSURUSCddKSB7CgkJJHcgPSAoJGdbJ2F0dHInXVsnY1dJRFRIJ10gLyAwLjI2NDUpOwoJfSAvLyBwaXhlbHMKCWlmIChpc3NldCgkZ1snYXR0ciddWydjSEVJR0hUJ10pICYmICRnWydhdHRyJ11bJ2NIRUlHSFQnXSkgewoJCSRoID0gKCRnWydhdHRyJ11bJ2NIRUlHSFQnXSAvIDAuMjY0NSk7Cgl9CgoKCWlmIChpc3NldCgkZ1snYXR0ciddWydTRVJJRVMnXSkgJiYgc3RydG9sb3dlcigkZ1snYXR0ciddWydTRVJJRVMnXSkgPT0gJ3Jvd3MnKSB7CgkJJGRhdGFzZXJpZXMgPSAncm93cyc7Cgl9IGVsc2UgewoJCSRkYXRhc2VyaWVzID0gJ2NvbHMnOwoJfQoKCS8vIERlZmF1bHRzIC0gZGVmaW5lIGRhdGEKCSRyb3diZWdpbiA9IDI7CgkkY29sYmVnaW4gPSAyOwoJaWYgKCR0eXBlID09ICdzY2F0dGVyJyB8fCAkdHlwZSA9PSAneHknKSB7CgkJaWYgKCRkYXRhc2VyaWVzID09ICdyb3dzJykgewoJCQkkcm93YmVnaW4gPSAxOwoJCX0gZWxzZSB7CgkJCSRjb2xiZWdpbiA9IDE7CgkJfQoJfQoJJHJvd2VuZCA9IDA7CgkkY29sZW5kID0gMDsKCglpZiAoaXNzZXQoJGdbJ2F0dHInXVsnREFUQS1ST1ctQkVHSU4nXSkgJiYgKCRnWydhdHRyJ11bJ0RBVEEtUk9XLUJFR0lOJ10gPT09ICcwJyB8fCAkZ1snYXR0ciddWydEQVRBLVJPVy1CRUdJTiddID4gMCkpIHsKCQkkcm93YmVnaW4gPSAkZ1snYXR0ciddWydEQVRBLVJPVy1CRUdJTiddOwoJfQoKCWlmIChpc3NldCgkZ1snYXR0ciddWydEQVRBLUNPTC1CRUdJTiddKSAmJiAoJGdbJ2F0dHInXVsnREFUQS1DT0wtQkVHSU4nXSA9PT0gJzAnIHx8ICRnWydhdHRyJ11bJ0RBVEEtQ09MLUJFR0lOJ10gPiAwKSkgewoJCSRjb2xiZWdpbiA9ICRnWydhdHRyJ11bJ0RBVEEtQ09MLUJFR0lOJ107Cgl9CgoJaWYgKGlzc2V0KCRnWydhdHRyJ11bJ0RBVEEtUk9XLUVORCddKSAmJiAoJGdbJ2F0dHInXVsnREFUQS1ST1ctRU5EJ10gPT09ICcwJyB8fCAkZ1snYXR0ciddWydEQVRBLVJPVy1FTkQnXSA8PiAwKSkgewoJCSRyb3dlbmQgPSAkZ1snYXR0ciddWydEQVRBLVJPVy1FTkQnXTsKCX0KCWlmIChpc3NldCgkZ1snYXR0ciddWydEQVRBLUNPTC1FTkQnXSkgJiYgKCRnWydhdHRyJ11bJ0RBVEEtQ09MLUVORCddID09PSAnMCcgfHwgJGdbJ2F0dHInXVsnREFUQS1DT0wtRU5EJ10gPD4gMCkpIHsKCQkkY29sZW5kID0gJGdbJ2F0dHInXVsnREFUQS1DT0wtRU5EJ107Cgl9CgoJJG5yID0gY291bnQoJGdbJ2RhdGEnXSk7CgkkbmMgPSAwOwoJZm9yZWFjaCAoJGdbJ2RhdGEnXSBBUyAkcikgewoJCSRjYyA9IDA7CgkJZm9yZWFjaCAoJHIgQVMgJGMpIHsKCQkJJGNjKys7CgkJfQoJCSRuYyA9IG1heCgkbmMsICRjYyk7Cgl9CglpZiAoJGNvbGVuZCA9PSAwKSB7CgkJJGNvbGVuZCA9ICRuYzsKCX0gZWxzZSBpZiAoJGNvbGVuZCA8IDApIHsKCQkkY29sZW5kID0gJG5jICsgJGNvbGVuZDsKCX0KCglpZiAoJHJvd2VuZCA9PSAwKSB7CgkJJHJvd2VuZCA9ICRucjsKCX0gZWxzZSBpZiAoJHJvd2VuZCA8IDApIHsKCQkkcm93ZW5kID0gJG5yICsgJHJvd2VuZDsKCX0KCglpZiAoJGNvbGVuZCA8ICRjb2xiZWdpbikgewoJCSRjb2xlbmQgPSAkY29sYmVnaW47Cgl9CglpZiAoJHJvd2VuZCA8ICRyb3diZWdpbikgewoJCSRyb3dlbmQgPSAkcm93YmVnaW47Cgl9CgovLwlpZiAoJHR5cGUgPT0gJ3h5JyB8fCAkdHlwZT09J3NjYXR0ZXInKSB7ICRjb2xzdGFydD0wOyB9CgkvLyBHZXQgRGF0YSArIFRvdGFscwoJJGRhdGEgPSBhcnJheSgpOwoJJHRvdGFscyA9IGFycmF5KCk7Cglmb3IgKCRyID0gKCRyb3diZWdpbiAtIDEpOyAkciA8ICRyb3dlbmQ7ICRyKyspIHsKCQlmb3IgKCRjID0gKCRjb2xiZWdpbiAtIDEpOyAkYyA8ICRjb2xlbmQ7ICRjKyspIHsKCQkJaWYgKGlzc2V0KCRnWydkYXRhJ11bJHJdWyRjXSkpIHsKCQkJCSRnWydkYXRhJ11bJHJdWyRjXSA9IGZsb2F0dmFsKCRnWydkYXRhJ11bJHJdWyRjXSk7CgkJCX0gZWxzZSB7CgkJCQkkZ1snZGF0YSddWyRyXVskY10gPSAwOwoJCQl9CgkJCWlmICgkZGF0YXNlcmllcyA9PSAncm93cycpIHsKCQkJCSRkYXRhWygkciArIDEgLSAkcm93YmVnaW4pXVsoJGMgKyAxIC0gJGNvbGJlZ2luKV0gPSAkZ1snZGF0YSddWyRyXVskY107CgkJCQkkdG90YWxzWygkciArIDEgLSAkcm93YmVnaW4pXSArPSAkZ1snZGF0YSddWyRyXVskY107CgkJCX0gZWxzZSB7CgkJCQkkZGF0YVsoJGMgKyAxIC0gJGNvbGJlZ2luKV1bKCRyICsgMSAtICRyb3diZWdpbildID0gJGdbJ2RhdGEnXVskcl1bJGNdOwoJCQkJaWYgKGlzc2V0KCR0b3RhbHNbKCRjICsgMSAtICRjb2xiZWdpbildKSkgewoJCQkJCSR0b3RhbHNbKCRjICsgMSAtICRjb2xiZWdpbildICs9ICRnWydkYXRhJ11bJHJdWyRjXTsKCQkJCX0gZWxzZSB7CgkJCQkJJHRvdGFsc1soJGMgKyAxIC0gJGNvbGJlZ2luKV0gPSAkZ1snZGF0YSddWyRyXVskY107CgkJCQl9CgkJCX0KCQl9Cgl9CgkvLyBQRVJDRU5UCglpZiAoJHBlcmNlbnQgJiYgJHR5cGUgIT0gJ3BpZScgJiYgJHR5cGUgIT0gJ3BpZTNkJykgewoJCWZvciAoJHIgPSAwOyAkciA8IGNvdW50KCRkYXRhKTsgJHIrKykgewoJCQlmb3IgKCRjID0gMDsgJGMgPCBjb3VudCgkZGF0YVskcl0pOyAkYysrKSB7CgkJCQkkZGF0YVskcl1bJGNdID0gJGRhdGFbJHJdWyRjXSAvICR0b3RhbHNbJHJdICogMTAwOwoJCQl9CgkJfQoJfQoJLy8gR2V0IExlZ2VuZHMgYW5kIGxhYmVscwoJJGxlZ2VuZHMgPSBhcnJheSgpOwoJJGxhYmVscyA9IGFycmF5KCk7CgkkbG9uZ2VzdGxlZ2VuZCA9IDA7CgkkbG9uZ2VzdGxhYmVsID0gMDsKCWlmICgkZGF0YXNlcmllcyA9PSAnY29scycpIHsKCQlpZiAoJGNvbGJlZ2luID4gMSkgewoJCQlmb3IgKCRyID0gKCRyb3diZWdpbiAtIDEpOyAkciA8ICRyb3dlbmQ7ICRyKyspIHsKCQkJCSRsZWdlbmRzWygkciArIDEgLSAkcm93YmVnaW4pXSA9ICRnWydkYXRhJ11bJHJdWzBdOwoJCQkJJGxvbmdlc3RsZWdlbmQgPSBtYXgoJGxvbmdlc3RsZWdlbmQsIHN0cmxlbigkZ1snZGF0YSddWyRyXVswXSkpOwoJCQl9CgkJfQoJCWlmICgkcm93YmVnaW4gPiAxKSB7CgkJCWZvciAoJGMgPSAoJGNvbGJlZ2luIC0gMSk7ICRjIDwgJGNvbGVuZDsgJGMrKykgewoJCQkJJGxhYmVsc1soJGMgKyAxIC0gJGNvbGJlZ2luKV0gPSAkZ1snZGF0YSddWzBdWyRjXTsKCQkJCSRsb25nZXN0bGFiZWwgPSBtYXgoJGxvbmdlc3RsYWJlbCwgc3RybGVuKCRnWydkYXRhJ11bMF1bJGNdKSk7CgkJCX0KCQl9Cgl9IGVsc2UgaWYgKCRkYXRhc2VyaWVzID09ICdyb3dzJykgewoJCWlmICgkY29sYmVnaW4gPiAxKSB7CgkJCWZvciAoJHIgPSAoJHJvd2JlZ2luIC0gMSk7ICRyIDwgJHJvd2VuZDsgJHIrKykgewoJCQkJJGxhYmVsc1soJHIgKyAxIC0gJHJvd2JlZ2luKV0gPSAkZ1snZGF0YSddWyRyXVswXTsKCQkJCSRsb25nZXN0bGFiZWwgPSBtYXgoJGxvbmdlc3RsYWJlbCwgc3RybGVuKCRnWydkYXRhJ11bJHJdWzBdKSk7CgkJCX0KCQl9CgkJaWYgKCRyb3diZWdpbiA+IDEpIHsKCQkJZm9yICgkYyA9ICgkY29sYmVnaW4gLSAxKTsgJGMgPCAkY29sZW5kOyAkYysrKSB7CgkJCQkkbGVnZW5kc1soJGMgKyAxIC0gJGNvbGJlZ2luKV0gPSAkZ1snZGF0YSddWzBdWyRjXTsKCQkJCSRsb25nZXN0bGVnZW5kID0gbWF4KCRsb25nZXN0bGVnZW5kLCBzdHJsZW4oJGdbJ2RhdGEnXVswXVskY10pKTsKCQkJfQoJCX0KCX0KCS8vIERlZmF1bHQgc2l6ZXMKCSRkZWZzaXplID0gYXJyYXkoKTsKCSRkZWZzaXplWydwaWUnXSA9IGFycmF5KCd3JyA9PiA2MDAsICdoJyA9PiAzMDApOwoJJGRlZnNpemVbJ3BpZTNkJ10gPSBhcnJheSgndycgPT4gNjAwLCAnaCcgPT4gMzAwKTsKCSRkZWZzaXplWydyYWRhciddID0gYXJyYXkoJ3cnID0+IDYwMCwgJ2gnID0+IDMwMCk7CgkkZGVmc2l6ZVsnbGluZSddID0gYXJyYXkoJ3cnID0+IDYwMCwgJ2gnID0+IDQwMCk7CgkkZGVmc2l6ZVsneHknXSA9IGFycmF5KCd3JyA9PiA2MDAsICdoJyA9PiA0MDApOwoJJGRlZnNpemVbJ3NjYXR0ZXInXSA9IGFycmF5KCd3JyA9PiA2MDAsICdoJyA9PiA0MDApOwoJJGRlZnNpemVbJ2JhciddID0gYXJyYXkoJ3cnID0+IDYwMCwgJ2gnID0+IDQwMCk7CgkkZGVmc2l6ZVsnaG9yaXpfYmFyJ10gPSBhcnJheSgndycgPT4gNjAwLCAnaCcgPT4gNTAwKTsKCgoJLy8gVXNlIGRlZmF1bHQgcmF0aW9zCglpZiAoJHcgJiYgISRoKSB7CgkJJGggPSAkdyAqICRkZWZzaXplWyR0eXBlXVsnaCddIC8gJGRlZnNpemVbJHR5cGVdWyd3J107Cgl9CglpZiAoJGggJiYgISR3KSB7CgkJJHcgPSAkaCAqICRkZWZzaXplWyR0eXBlXVsndyddIC8gJGRlZnNpemVbJHR5cGVdWydoJ107Cgl9CglpZiAoISRoICYmICEkdykgewoJCSR3ID0gJGRlZnNpemVbJHR5cGVdWyd3J107CgkJJGggPSAkZGVmc2l6ZVskdHlwZV1bJ2gnXTsKCX0KCgoJaWYgKGNvdW50KCRkYXRhKSA+IDAgJiYgJHR5cGUpIHsKCQkkZmlndXJlX2ZpbGUgPSAiZ3JhcGhfY2FjaGUvIiAuIHJhbmQoMTExMTEsIDk5OTk5OTk5OSkgLiAiLiIgLiAkaW1nX3R5cGU7CgkJaWYgKCRiYW5kdykgewoJCQkkY29sb3VycyA9IGFycmF5KCdzbm93MScsICdibGFjaycsICdzbm93NCcsICdzbm93MycsICdzbm93MicsICdjYWRldGJsdWU0JywgJ2NhZGV0Ymx1ZTMnLCAnY2FkZXRibHVlMScsICdiaXNxdWU0JywgJ2Jpc3F1ZTInLCAnYmVpZ2UnKTsKCQl9IGVsc2UgewoJCQkkY29sb3VycyA9IGFycmF5KCdjeWFuJywgJ2RhcmtvcmNoaWQ0JywgJ2NhZGV0Ymx1ZTMnLCAna2hha2kxJywgJ2RhcmtvbGl2ZWdyZWVuMicsICdjYWRldGJsdWU0JywgJ2NvcmFsJywgJ2N5YW40JywgJ3Jvc3licm93bjMnLCAnd2hlYXQxJyk7CgkJfQoJCSRmaWxscyA9IGFycmF5KCduYXZ5JywgJ29yYW5nZScsICdyZWQnLCAneWVsbG93JywgJ3B1cnBsZScsICduYXZ5JywgJ29yYW5nZScsICdyZWQnLCAneWVsbG93JywgJ3B1cnBsZScpOwoJCSRwYXR0ZXJucyA9IGFycmF5KFBBVFRFUk5fRElBRzEsIFBBVFRFUk5fQ1JPU1MxLCBQQVRURVJOX1NUUklQRTEsIFBBVFRFUk5fRElBRzMsIFBBVFRFUk5fQ1JPU1MyLCBQQVRURVJOX0RJQUcyLCBQQVRURVJOX0RJQUc0LCBQQVRURVJOX0NST1NTMywgUEFUVEVSTl9DUk9TUzQsIFBBVFRFUk5fU1RSSVBFMSk7CgkJJG1hcmtlcnMgPSBhcnJheShNQVJLX0RJQU1PTkQsIE1BUktfU1FVQVJFLCBNQVJLX0NJUkNMRSwgTUFSS19VVFJJQU5HTEUsIE1BUktfRFRSSUFOR0xFLCBNQVJLX0ZJTExFRENJUkNMRSwgTUFSS19DUk9TUywgTUFSS19TVEFSLCBNQVJLX1gpOwoKCQkvLyBMRUdFTkRTCgkJaWYgKCR0eXBlID09ICdwaWUnIHx8ICR0eXBlID09ICdwaWUzZCcpIHsKCQkJJGdyYXBoID0gbmV3IFBpZUdyYXBoKCgkdyAqICRrKSwgKCRoICogJGspKTsKCQl9IGVsc2UgaWYgKCR0eXBlID09ICdyYWRhcicpIHsKCQkJJGdyYXBoID0gbmV3IFJhZGFyR3JhcGgoKCR3ICogJGspLCAoJGggKiAkaykpOwoJCX0gZWxzZSB7CgkJCSRncmFwaCA9IG5ldyBHcmFwaCgoJHcgKiAkayksICgkaCAqICRrKSk7CgkJfQoKCQkvLyBtUERGIDQuNS4wMDkKCQkvLwkkZ3JhcGgtPmltZy0+U2V0SW1nRm9ybWF0KCRpbWdfdHlwZSkgOwoJCS8vCWlmIChzdHJ0b3VwcGVyKCRpbWdfdHlwZSk9PSdKUEVHJykgeyAkZ3JhcGgtPmltZy0+U2V0UXVhbGl0eSg5MCk7IH0KCQlpZiAoJGFudGlhbGlhcykgewoJCQkkZ3JhcGgtPmltZy0+U2V0QW50aUFsaWFzaW5nKCk7CgkJfQoJCSRncmFwaC0+U2V0U2hhZG93KHRydWUsIDIgKiAkayk7CgkJJGdyYXBoLT5TZXRNYXJnaW5Db2xvcigid2hpdGUiKTsKCQkvLyBUSVRMRQoJCSRncmFwaC0+dGl0bGUtPlNldCgkdGl0bGUpOwoJCSRncmFwaC0+dGl0bGUtPlNldE1hcmdpbigxMCAqICRrKTsKCQkkZ3JhcGgtPnRpdGxlLT5TZXRGb250KEZGX1VTRVJGT05ULCBGU19CT0xELCAxMSAqICRrKTsKCQkkZ3JhcGgtPnRpdGxlLT5TZXRDb2xvcigiYmxhY2siKTsKCQkkZ3JhcGgtPmxlZ2VuZC0+U2V0TGluZVNwYWNpbmcoMyAqICRrKTsKCQkkZ3JhcGgtPmxlZ2VuZC0+U2V0TWFya0Fic1NpemUoNiAqICRrKTsKCQkkZ3JhcGgtPmxlZ2VuZC0+U2V0Rm9udChGRl9VU0VSRk9OVCwgRlNfTk9STUFMLCA4ICogJGspOwoKCQkvLyBTZXQgR1JBUEggSU1BR0UgTUFSR0lOUwoJCWlmICgkdHlwZSA9PSAncGllJyB8fCAkdHlwZSA9PSAncGllM2QnKSB7CgkJCSRwc2l6ZSA9IDAuMzsKCQkJJHBwb3N4YWJzID0gKCR3IC8gMik7CgkJCSRwcG9zeSA9IDAuNTU7CgkJCWlmICgkbG9uZ2VzdGxlZ2VuZCkgeyAvLyBpZiBsZWdlbmQgc2hvd2luZwoJCQkJJHBwb3N4YWJzIC09ICgoKCRsb25nZXN0bGVnZW5kICogNSkgKyAyMCkgLyAyKTsKCQkJfQoJCQkkcHBvc3ggPSAoJHBwb3N4YWJzIC8gJHcpOwoJCQkkZ3JhcGgtPmxlZ2VuZC0+UG9zKDAuMDIsIDAuNSwgJ3JpZ2h0JywgJ2NlbnRlcicpOwoJCX0gZWxzZSBpZiAoJHR5cGUgPT0gJ3JhZGFyJykgewoJCQkkcHNpemUgPSAwLjU7CgkJCSRwcG9zeGFicyA9ICgkdyAvIDIpOwoJCQkkcHBvc3kgPSAwLjU1OwoJCQlpZiAoJGxvbmdlc3RsYWJlbCkgeyAvLyBpZiBsZWdlbmQgc2hvd2luZwoJCQkJJHBwb3N4YWJzIC09ICgoKCRsb25nZXN0bGFiZWwgKiA1KSArIDIwKSAvIDIpOwoJCQl9CgkJCSRwcG9zeCA9ICgkcHBvc3hhYnMgLyAkdyk7CgkJCSRncmFwaC0+bGVnZW5kLT5Qb3MoMC4wMiwgMC41LCAncmlnaHQnLCAnY2VudGVyJyk7CgkJfSBlbHNlIGlmICgkdHlwZSA9PSAneHknIHx8ICR0eXBlID09ICdzY2F0dGVyJykgewoJCQkkcG1sID0gNTA7CgkJCSRwbXIgPSAyMDsKCQkJJHBtdCA9IDYwOwoJCQkkcG1iID0gNTA7CgkJCSR4YXhpc2xibG1hcmdpbiA9ICRwbWIgLSAzMDsKCQkJJHlheGlzbGJsbWFyZ2luID0gJHBtbCAtIDE1OwoJCQkkZ3JhcGgtPmxlZ2VuZC0+UG9zKDAuMDIsIDAuMSwgJ3JpZ2h0JywgJ3RvcCcpOwoJCX0gZWxzZSBpZiAoJHR5cGUgPT0gJ2xpbmUnIHx8ICR0eXBlID09ICdiYXInKSB7CgkJCSRwbWwgPSA1MDsKCQkJJHBtciA9IDIwOwoJCQkkcG10ID0gNjA7CgkJCSRwbWIgPSA1MDsKCQkJJHhsYW5nbGUgPSAwOwoJCQkkbGwgPSAoJGxvbmdlc3RsZWdlbmQgKiA1KTsgLy8gNDUgZGVncmVlcyA4cHQgZm9udHNpemUKCQkJaWYgKCRsbCA+IDUgfHwgKCRsbCA+IDMgJiYgY291bnQoJGRhdGEpID4gMTApKSB7CgkJCQkkcG1iID0gbWF4KCRwbWIsICRsbCArIDMwKTsKCQkJCSR4bGFuZ2xlID0gNTA7CgkJCX0KCQkJJHhheGlzbGJsbWFyZ2luID0gJHBtYiAtIDMwOwoJCQkkeWF4aXNsYmxtYXJnaW4gPSAkcG1sIC0gMTU7CgkJCWlmICgkbG9uZ2VzdGxhYmVsICYmICEkb3ZlcmxhcCkgeyAvLyBpZiBsZWdlbmQgc2hvd2luZwoJCQkJJHBtciA9ICgoKCRsb25nZXN0bGFiZWwgKiA1KSArIDQwKSk7CgkJCX0KCQkJJGdyYXBoLT5sZWdlbmQtPlBvcygwLjAyLCAwLjEsICdyaWdodCcsICd0b3AnKTsKCQl9IGVsc2UgaWYgKCR0eXBlID09ICdob3Jpel9iYXInKSB7CgkJCSRwbWwgPSA1MDsKCQkJJHBtciA9IDIwOwoJCQkkcG10ID0gNTA7CgkJCSRwbWIgPSA0NTsKCQkJJGxsID0gKCRsb25nZXN0bGVnZW5kICogNi41KTsgLy8gOHB0IGZvbnRzaXplCgkJCSRwbWwgPSBtYXgoJHBtbCwgJGxsICsgMjApOwoJCQkkeGF4aXNsYmxtYXJnaW4gPSAkcG1sIC0gMjA7CgkJCSR5YXhpc2xibG1hcmdpbiA9ICRwbWIgLSAxNTsKCQkJaWYgKCRsb25nZXN0bGFiZWwgJiYgISRvdmVybGFwKSB7IC8vIGlmIGxlZ2VuZCBzaG93aW5nCgkJCQkkcG1yID0gKCgoJGxvbmdlc3RsYWJlbCAqIDUpICsgNDApKTsKCQkJfQoJCQkkZ3JhcGgtPmxlZ2VuZC0+UG9zKDAuMDIsIDAuMSwgJ3JpZ2h0JywgJ3RvcCcpOwoJCX0KCgoJCS8vIERSQVcgVEhFIEdSQVBIUwoJCWlmICgkdHlwZSA9PSAncGllJykgewoJCQkkcDEgPSBuZXcgUGllUGxvdCgkZGF0YVswXSk7CgkJCSRwMS0+U2V0U2xpY2VDb2xvcnMoJGNvbG91cnMpOwoKCQkJaWYgKCRzaG93X3ZhbHVlcykgewoJCQkJJHAxLT52YWx1ZS0+U2V0Rm9udChGRl9VU0VSRk9OVCwgRlNfTk9STUFMLCA4ICogJGspOwoJCQkJaWYgKCRwZXJjZW50KSB7CgkJCQkJJHAxLT5TZXRMYWJlbFR5cGUoUElFX1ZBTFVFX1BFUkFESik7CgkJCQl9ICAgLy9QSUVfVkFMX1BFUiA9IGRlZmF1bHQKCQkJCWVsc2UgewoJCQkJCSRwMS0+U2V0TGFiZWxUeXBlKFBJRV9WQUxVRV9BQlMpOwoJCQkJfQoJCQkJaWYgKCRwZXJjZW50IHx8ICRzaG93X3BlcmNlbnQpIHsKCQkJCQkkcDEtPnZhbHVlLT5TZXRGb3JtYXQoIiVkJSUiKTsKCQkJCX0gZWxzZSB7CgkJCQkJJHAxLT52YWx1ZS0+U2V0Rm9ybWF0KCIlcyIpOwoJCQkJfQoJCQkJLy8gRW5hYmxlIGFuZCBzZXQgcG9saWN5IGZvciBndWlkZS1saW5lcy4gTWFrZSBsYWJlbHMgbGluZSB1cCB2ZXJ0aWNhbGx5CgkJCQkkcDEtPlNldEd1aWRlTGluZXModHJ1ZSk7CgkJCQkkcDEtPlNldEd1aWRlTGluZXNBZGp1c3QoMS41KTsKCQkJfSBlbHNlIHsKCQkJCSRwMS0+dmFsdWUtPlNob3coZmFsc2UpOwoJCQl9CgkJCSRwMS0+U2V0TGVnZW5kcygkbGVnZW5kcyk7CgkJCSRwMS0+U2V0U2l6ZSgkcHNpemUpOwoJCQkkcDEtPlNldENlbnRlcigkcHBvc3gsICRwcG9zeSk7CgkJCWlmICgkbGFiZWxzWzBdKSB7CgkJCQkkZ3JhcGgtPnN1YnRpdGxlLT5TZXQoJGxhYmVsc1swXSk7CgkJCQkkZ3JhcGgtPnN1YnRpdGxlLT5TZXRNYXJnaW4oMTAgKiAkayk7CgkJCQkkZ3JhcGgtPnN1YnRpdGxlLT5TZXRGb250KEZGX1VTRVJGT05ULCBGU19CT0xELCAxMSAqICRrKTsKCQkJCSRncmFwaC0+c3VidGl0bGUtPlNldENvbG9yKCJibGFjayIpOwoJCQl9CgkJCSRncmFwaC0+QWRkKCRwMSk7CgkJfSBlbHNlIGlmICgkdHlwZSA9PSAncGllM2QnKSB7CgkJCSRwMSA9IG5ldyBQaWVQbG90M2QoJGRhdGFbMF0pOwoJCQkkcDEtPlNldFNsaWNlQ29sb3JzKCRjb2xvdXJzKTsKCQkJaWYgKCRzaG93X3ZhbHVlcykgewoJCQkJJHAxLT52YWx1ZS0+U2V0Rm9udChGRl9VU0VSRk9OVCwgRlNfTk9STUFMLCA4ICogJGspOwoJCQkJaWYgKCRwZXJjZW50KSB7CgkJCQkJJHAxLT5TZXRMYWJlbFR5cGUoUElFX1ZBTFVFX1BFUkFESik7CgkJCQl9ICAgLy9QSUVfVkFMX1BFUiA9IGRlZmF1bHQKCQkJCWVsc2UgewoJCQkJCSRwMS0+U2V0TGFiZWxUeXBlKFBJRV9WQUxVRV9BQlMpOwoJCQkJfQoJCQkJaWYgKCRwZXJjZW50IHx8ICRzaG93X3BlcmNlbnQpIHsKCQkJCQkkcDEtPnZhbHVlLT5TZXRGb3JtYXQoIiVkJSUiKTsKCQkJCX0gZWxzZSB7CgkJCQkJJHAxLT52YWx1ZS0+U2V0Rm9ybWF0KCIlcyIpOwoJCQkJfQoJCQl9IGVsc2UgewoJCQkJJHAxLT52YWx1ZS0+U2hvdyhmYWxzZSk7CgkJCX0KCQkJJHAxLT5TZXRMZWdlbmRzKCRsZWdlbmRzKTsKCQkJJHAxLT5TZXRFZGdlKCk7CgkJCSRwMS0+U2V0U2l6ZSgkcHNpemUpOwoJCQkkcDEtPlNldENlbnRlcigkcHBvc3gsICRwcG9zeSk7CgoJCQlpZiAoJGxhYmVsc1swXSkgewoJCQkJJGdyYXBoLT5zdWJ0aXRsZS0+U2V0KCRsYWJlbHNbMF0pOwoJCQkJJGdyYXBoLT5zdWJ0aXRsZS0+U2V0TWFyZ2luKDEwICogJGspOwoJCQkJJGdyYXBoLT5zdWJ0aXRsZS0+U2V0Rm9udChGRl9VU0VSRk9OVCwgRlNfQk9MRCwgMTEgKiAkayk7CgkJCQkkZ3JhcGgtPnN1YnRpdGxlLT5TZXRDb2xvcigiYmxhY2siKTsKCQkJfQoKCQkJJGdyYXBoLT5BZGQoJHAxKTsKCQl9CgkJLy8gUkFEQVIKCQllbHNlIGlmICgkdHlwZSA9PSAncmFkYXInKSB7CgkJCSRncmFwaC0+U2V0U2l6ZSgkcHNpemUpOwoJCQkkZ3JhcGgtPlNldFBvcygkcHBvc3gsICRwcG9zeSk7CgoJCQkkZ3JhcGgtPlNldFRpdGxlcygkbGVnZW5kcyk7IC8vIGxhYmVscyBlYWNoIGF4aXMKCgkJCSRncmFwaC0+YXhpcy0+dGl0bGUtPlNldEZvbnQoRkZfVVNFUkZPTlQsIEZTX05PUk1BTCwgOCAqICRrKTsKCQkJJGdyYXBoLT5heGlzLT50aXRsZS0+U2V0TWFyZ2luKDUgKiAkayk7CgkJCSRncmFwaC0+YXhpcy0+U2V0V2VpZ2h0KDEgKiAkayk7CgkJCSRncmFwaC0+YXhpcy0+SGlkZUxhYmVscygpOwoJCQkkZ3JhcGgtPmF4aXMtPlNldEZvbnQoRkZfVVNFUkZPTlQsIEZTX05PUk1BTCwgNiAqICRrKTsKCQkJJGdyYXBoLT5IaWRlVGlja01hcmtzKCk7CgoJCQkkZ3JvdXAgPSBhcnJheSgpOwoJCQlmb3JlYWNoICgkZGF0YSBBUyAkc2VyaWVzID0+ICRkYXQpIHsKCQkJCSRyZGF0YSA9IGFycmF5KCk7CgkJCQlmb3JlYWNoICgkZGF0YVskc2VyaWVzXSBBUyAkcm93KSB7CgkJCQkJJHJkYXRhW10gPSAkcm93OwoJCQkJfQoJCQkJaWYgKGNvdW50KCRyZGF0YSkgPCAzKSB7CgkJCQkJdGhyb3cgbmV3IE1wZGZFeGNlcHRpb24oIkVSUk9SOjpHcmFwaDo6Q2Fubm90IGNyZWF0ZSBhIFJhZGFyIFBsb3Qgd2l0aCBsZXNzIHRoYW4gMyBkYXRhIHBvaW50cy4iKTsKCQkJCX0KCQkJCS8vIENyZWF0ZSB0aGUgcmFkYXIgcGxvdAoJCQkJJGJwbG90ID0gbmV3IFJhZGFyUGxvdCgkcmRhdGEpOwoJCQkJJGJwbG90LT5tYXJrLT5TZXRUeXBlKCRtYXJrZXJzWyRzZXJpZXNdKTsKCQkJCSRicGxvdC0+bWFyay0+U2V0RmlsbENvbG9yKCRjb2xvdXJzWyRzZXJpZXNdKTsKCQkJCSRicGxvdC0+bWFyay0+U2V0V2lkdGgoMyAqICRrKTsKCQkJCSRicGxvdC0+U2V0Q29sb3IoJGNvbG91cnNbJHNlcmllc10pOwoJCQkJaWYgKCRzZXJpZXMgPT0gMCkgewoJCQkJCSRicGxvdC0+U2V0RmlsbENvbG9yKCdsaWdodHJlZCcpOwoJCQkJfSBlbHNlIHsKCQkJCQkkYnBsb3QtPlNldEZpbGwoZmFsc2UpOwoJCQkJfQoJCQkJJGJwbG90LT5TZXRMaW5lV2VpZ2h0KDEgKiAkayk7CgkJCQkkYnBsb3QtPlNldExlZ2VuZCgkbGFiZWxzWyRzZXJpZXNdKTsKCQkJCWlmICgkYmFuZHcpIHsKCQkJCQkkYnBsb3QtPlNldFNoYWRvdygiZ3JheTUiKTsKCQkJCX0KCQkJCSRncmFwaC0+QWRkKCRicGxvdCk7CgkJCX0KCQl9CgkJLy8gTElORQoJCWVsc2UgaWYgKCR0eXBlID09ICdsaW5lJykgewoJCQkvLyBTZXR1cCB0aGUgZ3JhcGguCgkJCSRncmFwaC0+aW1nLT5TZXRNYXJnaW4oJHBtbCAqICRrLCAkcG1yICogJGssICRwbXQgKiAkaywgJHBtYiAqICRrKTsgLy8gTFJUQgoJCQkkZ3JhcGgtPlNldFNjYWxlKCRheGVzKTsKCQkJJGdyYXBoLT55YXhpcy0+U2V0Rm9udChGRl9VU0VSRk9OVCwgRlNfTk9STUFMLCA4ICogJGspOwoKCQkJaWYgKCR5bGFiZWwpIHsKCQkJCSRncmFwaC0+eWF4aXMtPnRpdGxlLT5TZXRGb250KEZGX1VTRVJGT05ULCBGU19OT1JNQUwsIDggKiAkayk7CgkJCQkkZ3JhcGgtPnlheGlzLT5TZXRUaXRsZSgkeWxhYmVsLCAnbWlkZGxlJyk7CgkJCQkkZ3JhcGgtPnlheGlzLT5TZXRUaXRsZU1hcmdpbigkeWF4aXNsYmxtYXJnaW4gKiAkayk7CgkJCX0KCgkJCSRncmFwaC0+eWF4aXMtPlNldExhYmVsTWFyZ2luKDQgKiAkayk7CgkJCWlmICgkcGVyY2VudCB8fCAkc2hvd19wZXJjZW50KSB7CgkJCQkkZ3JhcGgtPnlheGlzLT5TZXRMYWJlbEZvcm1hdCgnJWQlJScpOwoJCQl9IC8vIFBlcmNlbnQKCQkJLy8gU2hvdyAwIGxhYmVsIG9uIFktYXhpcyAoZGVmYXVsdCBpcyBub3QgdG8gc2hvdykKCQkJJGdyYXBoLT55c2NhbGUtPnRpY2tzLT5TdXByZXNzWmVyb0xhYmVsKHRydWUpOwoJCQlpZiAoJGhpZGVfeV9heGlzKSB7CgkJCQkkZ3JhcGgtPnlheGlzLT5IaWRlKCk7CgkJCX0KCQkJaWYgKCRoaWRlX2dyaWQpIHsKCQkJCSRncmFwaC0+eWdyaWQtPlNob3coZmFsc2UpOwoJCQl9CgoJCQkvLyBTZXR1cCBYLWF4aXMgbGFiZWxzCgkJCSRncmFwaC0+eGF4aXMtPlNldEZvbnQoRkZfVVNFUkZPTlQsIEZTX05PUk1BTCwgOCAqICRrKTsKCQkJJGdyYXBoLT54YXhpcy0+U2V0VGlja0xhYmVscygkbGVnZW5kcyk7CgkJCSRncmFwaC0+eGF4aXMtPlNldExhYmVsQW5nbGUoJHhsYW5nbGUpOwoJCQkkZ3JhcGgtPnhheGlzLT5TZXRMYWJlbE1hcmdpbig0ICogJGspOwoJCQkvLyBYLWF4aXMgdGl0bGUKCQkJaWYgKCR4bGFiZWwpIHsKCQkJCSRncmFwaC0+eGF4aXMtPnRpdGxlLT5TZXRGb250KEZGX1VTRVJGT05ULCBGU19OT1JNQUwsIDggKiAkayk7CgkJCQkkZ3JhcGgtPnhheGlzLT5TZXRUaXRsZSgkeGxhYmVsLCAnbWlkZGxlJyk7CgkJCQkkZ3JhcGgtPnhheGlzLT5TZXRUaXRsZU1hcmdpbigkeGF4aXNsYmxtYXJnaW4gKiAkayk7CgkJCX0KCQkJZm9yZWFjaCAoJGRhdGEgQVMgJHNlcmllcyA9PiAkcmRhdGEpIHsKCQkJCSRicGxvdCA9IG5ldyBMaW5lUGxvdCgkcmRhdGEpOwoJCQkJJGJwbG90LT5tYXJrLT5TZXRUeXBlKCRtYXJrZXJzWyRzZXJpZXNdKTsKCQkJCSRicGxvdC0+bWFyay0+U2V0RmlsbENvbG9yKCRjb2xvdXJzWyRzZXJpZXNdKTsKCQkJCSRicGxvdC0+bWFyay0+U2V0V2lkdGgoNCAqICRrKTsKCQkJCWlmICgkc2hvd192YWx1ZXMpIHsKCQkJCQkkYnBsb3QtPnZhbHVlLT5TaG93KCk7IC8vIE5vdCBpZiBzY2F0dGVyCgkJCQkJJGJwbG90LT52YWx1ZS0+U2V0TWFyZ2luKDYgKiAkayk7CgkJCQkJJGJwbG90LT52YWx1ZS0+U2V0Q29sb3IoImRhcmtyZWQiKTsKCQkJCQkkYnBsb3QtPnZhbHVlLT5TZXRGb250KEZGX1VTRVJGT05ULCBGU19OT1JNQUwsIDggKiAkayk7CgkJCQkJaWYgKCRwZXJjZW50IHx8ICRzaG93X3BlcmNlbnQpIHsKCQkJCQkJJGJwbG90LT52YWx1ZS0+U2V0Rm9ybWF0KCclZCUlJyk7CgkJCQkJfSBlbHNlIHsKCQkJCQkJJGJwbG90LT52YWx1ZS0+U2V0Rm9ybWF0KCIlcyIpOwoJCQkJCX0KCQkJCX0KCQkJCS8vIFNldCBjb2xvciBmb3IgZWFjaCBsaW5lCgkJCQkkYnBsb3QtPlNldENvbG9yKCRjb2xvdXJzWyRzZXJpZXNdKTsKCQkJCSRicGxvdC0+U2V0V2VpZ2h0KDIgKiAkayk7CgkJCQkkYnBsb3QtPlNldExlZ2VuZCgkbGFiZWxzWyRzZXJpZXNdKTsKCQkJCWlmICgkYmFuZHcpIHsKCQkJCQkkYnBsb3QtPlNldFNoYWRvdygiZ3JheTUiKTsKCQkJCX0KCQkJCS8vIEluZGVudCB0aGUgWC1zY2FsZSBzbyB0aGUgZmlyc3QgYW5kIGxhc3QgcG9pbnQgZG9lc24ndCBmYWxsIG9uIHRoZSBlZGdlcwoJCQkJJGJwbG90LT5TZXRDZW50ZXIoKTsKCQkJCSRncmFwaC0+QWRkKCRicGxvdCk7CgkJCX0KCQl9CgkJLy8gWFkgb3IgU0NBVFRFUgoJCWVsc2UgaWYgKCR0eXBlID09ICd4eScgfHwgJHR5cGUgPT0gJ3NjYXR0ZXInKSB7CgkJCS8vIFNldHVwIHRoZSBncmFwaC4KCQkJJGdyYXBoLT5pbWctPlNldE1hcmdpbigkcG1sICogJGssICRwbXIgKiAkaywgJHBtdCAqICRrLCAkcG1iICogJGspOyAvLyBMUlRCCgkJCSRncmFwaC0+U2V0U2NhbGUoJGF4ZXMpOwoJCQkvLyBTZXR1cCBmb250IGZvciBheGlzCgkJCSRncmFwaC0+eWF4aXMtPlNldEZvbnQoRkZfVVNFUkZPTlQsIEZTX05PUk1BTCwgOCAqICRrKTsKCQkJLy8gWS1heGlzIHRpdGxlCgkJCWlmICgkbGFiZWxzWzFdKSB7CgkJCQkkZ3JhcGgtPnlheGlzLT50aXRsZS0+U2V0Rm9udChGRl9VU0VSRk9OVCwgRlNfTk9STUFMLCA4ICogJGspOwoJCQkJJGdyYXBoLT55YXhpcy0+U2V0VGl0bGVNYXJnaW4oJHlheGlzbGJsbWFyZ2luICogJGspOwoJCQkJJGdyYXBoLT55YXhpcy0+U2V0VGl0bGUoJGxhYmVsc1sxXSwgJ21pZGRsZScpOwoJCQl9CgoKCQkJJGdyYXBoLT55YXhpcy0+U2V0TGFiZWxNYXJnaW4oNCAqICRrKTsKCQkJaWYgKCRwZXJjZW50IHx8ICRzaG93X3BlcmNlbnQpIHsKCQkJCSRncmFwaC0+eWF4aXMtPlNldExhYmVsRm9ybWF0KCclZCUlJyk7CgkJCX0gLy8gUGVyY2VudAoJCQkvLyBTaG93IDAgbGFiZWwgb24gWS1heGlzIChkZWZhdWx0IGlzIG5vdCB0byBzaG93KQoJCQkkZ3JhcGgtPnlzY2FsZS0+dGlja3MtPlN1cHJlc3NaZXJvTGFiZWwodHJ1ZSk7CgkJCS8vIEp1c3QgbGV0IHRoZSBtYXhpbXVtIGJlIGF1dG9zY2FsZWQKCQkJJGdyYXBoLT55YXhpcy0+c2NhbGUtPlNldEF1dG9NaW4oMCk7CgkJCWlmICgkaGlkZV95X2F4aXMpIHsKCQkJCSRncmFwaC0+eWF4aXMtPkhpZGUoKTsKCQkJfQoJCQlpZiAoJGhpZGVfZ3JpZCkgewoJCQkJJGdyYXBoLT55Z3JpZC0+U2hvdyhmYWxzZSk7CgkJCX0KCgkJCS8vIFNldHVwIFgtYXhpcyBsYWJlbHMKCQkJJGdyYXBoLT54YXhpcy0+U2V0Rm9udChGRl9VU0VSRk9OVCwgRlNfTk9STUFMLCA4ICogJGspOwoJCQkvLyBtUERGIDIuNSBDb3JyZWN0cyBsYWJlbGxpbmcgb2YgeC1heGlzCgkJCS8vCQkJJGdyYXBoLT54YXhpcy0+U2V0VGlja0xhYmVscygkbGVnZW5kcyk7CgkJCSRncmFwaC0+eGF4aXMtPlNldExhYmVsQW5nbGUoNTApOwoJCQkkZ3JhcGgtPnhheGlzLT5TZXRMYWJlbE1hcmdpbig0ICogJGspOwoJCQkvLyBYLWF4aXMgdGl0bGUKCQkJaWYgKCRsYWJlbHNbMF0pIHsKCQkJCSRncmFwaC0+eGF4aXMtPnRpdGxlLT5TZXRGb250KEZGX1VTRVJGT05ULCBGU19OT1JNQUwsIDggKiAkayk7CgkJCQkkZ3JhcGgtPnhheGlzLT5TZXRUaXRsZU1hcmdpbigkeGF4aXNsYmxtYXJnaW4gKiAkayk7CgkJCQkkZ3JhcGgtPnhheGlzLT5TZXRUaXRsZSgkbGFiZWxzWzBdLCAnbWlkZGxlJyk7CgkJCX0KCgkJCS8vIENyZWF0ZSB0aGUgYmFyIHBsb3QKCQkJLy8gU1BMSU5FUwoJCQlpZiAoJHNwbGluZXMgJiYgJHR5cGUgPT0gJ3h5JykgewoJCQkJJHNwbGluZSA9IG5ldyBTcGxpbmUoJGRhdGFbMF0sICRkYXRhWzFdKTsKCQkJCWxpc3QoJG5ld3gsICRuZXd5KSA9ICRzcGxpbmUtPkdldCgxMDApOwoJCQl9IGVsc2UgewoJCQkJJG5ld3ggPSAkZGF0YVswXTsKCQkJCSRuZXd5ID0gJGRhdGFbMV07CgkJCX0KCgkJCWlmICgkdHlwZSA9PSAneHknKSB7CgkJCQkvLyBMSU5FIFBMT1QKCQkJCSRicGxvdCA9IG5ldyBMaW5lUGxvdCgkbmV3eSwgJG5ld3gpOwoJCQkJLy8gU2V0IGNvbG9yIGZvciBlYWNoIGxpbmUKCQkJCSRicGxvdC0+U2V0Q29sb3IoJGZpbGxzWzBdKTsKCQkJCSRicGxvdC0+U2V0V2VpZ2h0KDQgKiAkayk7CgkJCQlpZiAoJGJhbmR3KSB7CgkJCQkJJGJwbG90LT5TZXRTaGFkb3coImdyYXk1Iik7CgkJCQl9CgkJCQkkZ3JhcGgtPkFkZCgkYnBsb3QpOwoJCQl9CgoJCQkvLyBTQ0FUVEVSIFBMT1QKCQkJJGNwbG90ID0gbmV3IFNjYXR0ZXJQbG90KCRkYXRhWzFdLCAkZGF0YVswXSk7CgoJCQkkY3Bsb3QtPm1hcmstPlNldFR5cGUoJG1hcmtlcnNbMF0pOwoJCQkkY3Bsb3QtPm1hcmstPlNldEZpbGxDb2xvcigkZmlsbHNbMF0pOwoJCQkkY3Bsb3QtPm1hcmstPlNldFdpZHRoKDggKiAkayk7CgkJCWlmICgkc2hvd192YWx1ZXMpIHsKCQkJCS8vIG1QREYgMi41CgkJCQlpZiAoJHR5cGUgPT0gJ3h5JykgewoJCQkJCSRjcGxvdC0+dmFsdWUtPlNob3coKTsKCQkJCX0gLy8gTm90IGlmIHNjYXR0ZXIKCQkJCSRjcGxvdC0+dmFsdWUtPlNldE1hcmdpbig4ICogJGspOwoJCQkJJGNwbG90LT52YWx1ZS0+U2V0Q29sb3IoImRhcmtyZWQiKTsKCQkJCSRjcGxvdC0+dmFsdWUtPlNldEZvbnQoRkZfVVNFUkZPTlQsIEZTX05PUk1BTCwgNiAqICRrKTsKCgkJCQlpZiAoJHBlcmNlbnQgfHwgJHNob3dfcGVyY2VudCkgewoJCQkJCSRjcGxvdC0+dmFsdWUtPlNldEZvcm1hdCgnJWQlJScpOwoJCQkJfSBlbHNlIHsKCQkJCQkkY3Bsb3QtPnZhbHVlLT5TZXRGb3JtYXQoIiVzIik7CgkJCQl9CgkJCX0KCgkJCS8vIFNldCBjb2xvciBmb3IgZWFjaCBsaW5lCgkJCSRjcGxvdC0+U2V0Q29sb3IoJGZpbGxzWzBdKTsKCQkJJGNwbG90LT5TZXRXZWlnaHQoNCAqICRrKTsKCQkJaWYgKCRiYW5kdykgewoJCQkJJGNwbG90LT5TZXRTaGFkb3coImdyYXk1Iik7CgkJCX0KCQkJJGdyYXBoLT5BZGQoJGNwbG90KTsKCQl9CgkJLy8gQkFSCgkJZWxzZSBpZiAoJHR5cGUgPT0gJ2JhcicpIHsKCQkJLy8gU2V0dXAgdGhlIGdyYXBoLgoJCQkkZ3JhcGgtPmltZy0+U2V0TWFyZ2luKCRwbWwgKiAkaywgJHBtciAqICRrLCAkcG10ICogJGssICRwbWIgKiAkayk7IC8vIExSVEIKCQkJJGdyYXBoLT5TZXRTY2FsZSgkYXhlcyk7CgkJCS8vIFNldHVwIHktYXhpcwoJCQkkZ3JhcGgtPnlheGlzLT5TZXRGb250KEZGX1VTRVJGT05ULCBGU19OT1JNQUwsIDggKiAkayk7CgkJCWlmICgkaGlkZV95X2F4aXMpIHsKCQkJCSRncmFwaC0+eWF4aXMtPkhpZGUoKTsKCQkJfQoJCQlpZiAoJGhpZGVfZ3JpZCkgewoJCQkJJGdyYXBoLT55Z3JpZC0+U2hvdyhmYWxzZSk7CgkJCX0KCQkJJGdyYXBoLT55YXhpcy0+U2V0TGFiZWxNYXJnaW4oNCAqICRrKTsKCQkJaWYgKCR5bGFiZWwpIHsKCQkJCSRncmFwaC0+eWF4aXMtPnRpdGxlLT5TZXRGb250KEZGX1VTRVJGT05ULCBGU19OT1JNQUwsIDggKiAkayk7CgkJCQkkZ3JhcGgtPnlheGlzLT5TZXRUaXRsZSgkeWxhYmVsLCAnbWlkZGxlJyk7CgkJCQkkZ3JhcGgtPnlheGlzLT5TZXRUaXRsZU1hcmdpbigkeWF4aXNsYmxtYXJnaW4gKiAkayk7CgkJCX0KCQkJLy8gU2hvdyAwIGxhYmVsIG9uIFktYXhpcyAoZGVmYXVsdCBpcyBub3QgdG8gc2hvdykKCQkJJGdyYXBoLT55c2NhbGUtPnRpY2tzLT5TdXByZXNzWmVyb0xhYmVsKGZhbHNlKTsKCQkJLy8gU2V0dXAgWC1heGlzIGxhYmVscwoJCQkkZ3JhcGgtPnhheGlzLT5TZXRGb250KEZGX1VTRVJGT05ULCBGU19OT1JNQUwsIDggKiAkayk7CgkJCSRncmFwaC0+eGF4aXMtPlNldFRpY2tMYWJlbHMoJGxlZ2VuZHMpOwoJCQkkZ3JhcGgtPnhheGlzLT5TZXRMYWJlbEFuZ2xlKCR4bGFuZ2xlKTsKCQkJJGdyYXBoLT54YXhpcy0+U2V0TGFiZWxNYXJnaW4oNCAqICRrKTsKCQkJLy8gWC1heGlzIHRpdGxlCgkJCWlmICgkeGxhYmVsKSB7CgkJCQkkZ3JhcGgtPnhheGlzLT50aXRsZS0+U2V0Rm9udChGRl9VU0VSRk9OVCwgRlNfTk9STUFMLCA4ICogJGspOwoJCQkJJGdyYXBoLT54YXhpcy0+U2V0VGl0bGUoJHhsYWJlbCwgJ21pZGRsZScpOwoJCQkJJGdyYXBoLT54YXhpcy0+U2V0VGl0bGVNYXJnaW4oJHhheGlzbGJsbWFyZ2luICogJGspOwoJCQl9CgoJCQkkZ3JvdXAgPSBhcnJheSgpOwoJCQlmb3JlYWNoICgkZGF0YSBBUyAkc2VyaWVzID0+ICRkYXQpIHsKCQkJCSRyZGF0YSA9IGFycmF5KCk7CgkJCQlmb3JlYWNoICgkZGF0YVskc2VyaWVzXSBBUyAkcm93KSB7CgkJCQkJJHJkYXRhW10gPSAkcm93OwoJCQkJfQoKCQkJCS8vIENyZWF0ZSB0aGUgYmFyIHBsb3QKCQkJCSRicGxvdCA9IG5ldyBCYXJQbG90KCRyZGF0YSk7CgkJCQkkYnBsb3QtPlNldFdpZHRoKDAuNik7IC8vIGZvciBTSU5HTEU/PwoJCQkJLy8gU2V0dXAgY29sb3IgZm9yIGdyYWRpZW50IGZpbGwgc3R5bGUKCQkJCWlmICgkYmFuZHcpIHsKCQkJCQkkYnBsb3QtPlNldFBhdHRlcm4oJHBhdHRlcm5zWyRzZXJpZXNdKTsKCQkJCX0gZWxzZSB7CgkJCQkJJGJwbG90LT5TZXRGaWxsR3JhZGllbnQoJGZpbGxzWyRzZXJpZXNdLCAiI0VFRUVFRSIsIEdSQURfTEVGVF9SRUZMRUNUSU9OKTsKCQkJCX0KCgkJCQkvLyBTZXQgY29sb3IgZm9yIHRoZSBmcmFtZSBvZiBlYWNoIGJhcgoJCQkJJGJwbG90LT5TZXRDb2xvcigiZGFya2dyYXkiKTsKCQkJCSRicGxvdC0+U2V0TGVnZW5kKCRsYWJlbHNbJHNlcmllc10pOwoJCQkJaWYgKCRiYW5kdykgewoJCQkJCSRicGxvdC0+U2V0U2hhZG93KCJncmF5NSIpOwoJCQkJfQoJCQkJaWYgKCRzaG93X3ZhbHVlcykgewoJCQkJCSRicGxvdC0+dmFsdWUtPlNob3coKTsKCQkJCQkkYnBsb3QtPnZhbHVlLT5TZXRNYXJnaW4oNiAqICRrKTsKCQkJCQkkYnBsb3QtPnZhbHVlLT5TZXRDb2xvcigiZGFya3JlZCIpOwoJCQkJCSRicGxvdC0+dmFsdWUtPlNldEZvbnQoRkZfVVNFUkZPTlQsIEZTX05PUk1BTCwgOCAqICRrKTsKCQkJCQlpZiAoJHBlcmNlbnQgfHwgJHNob3dfcGVyY2VudCkgewoJCQkJCQkkYnBsb3QtPnZhbHVlLT5TZXRGb3JtYXQoJyVkJSUnKTsKCQkJCQl9IGVsc2UgewoJCQkJCQkkYnBsb3QtPnZhbHVlLT5TZXRGb3JtYXQoIiVzIik7CgkJCQkJfQoJCQkJfQoKCQkJCSRncm91cFtdID0gJGJwbG90OwoJCQl9CgkJCWlmIChjb3VudCgkZGF0YSkgPT0gMSkgewoJCQkJJGdyYXBoLT5BZGQoJGdyb3VwWzBdKTsKCQkJfSBlbHNlIHsKCQkJCS8vIENyZWF0ZSB0aGUgZ3JvdXBlZCBiYXIgcGxvdAoJCQkJaWYgKCRzdGFja2VkKSB7CgkJCQkJJGdicGxvdCA9IG5ldyBBY2NCYXJQbG90KCRncm91cCk7CgkJCQl9IGVsc2UgewoJCQkJCSRnYnBsb3QgPSBuZXcgR3JvdXBCYXJQbG90KCRncm91cCk7CgkJCQl9CgkJCQkkZ3JhcGgtPkFkZCgkZ2JwbG90KTsKCQkJfQoJCX0gZWxzZSBpZiAoJHR5cGUgPT0gJ2hvcml6X2JhcicpIHsKCQkJJGdyYXBoLT5TZXRTY2FsZSgkYXhlcyk7CgkJCSRncmFwaC0+U2V0OTBBbmRNYXJnaW4oJHBtbCAqICRrLCAkcG1yICogJGssICRwbXQgKiAkaywgJHBtYiAqICRrKTsgLy8gTFJUQgoJCQkvLyBTZXR1cCB5LWF4aXMKCQkJJGdyYXBoLT55YXhpcy0+U2V0Rm9udChGRl9VU0VSRk9OVCwgRlNfTk9STUFMLCA4ICogJGspOwoJCQkkZ3JhcGgtPnlheGlzLT5TZXRMYWJlbE1hcmdpbig0ICogJGspOwoKCQkJJGdyYXBoLT55YXhpcy0+U2V0UG9zKCdtYXgnKTsgLy8gSW50ZXJzZWN0IGF0IHRvcCBvZiB4LWF4aXMgaS5lLiB5IGF4aXMgaXMgYXQgYm90dG9tCgkJCS8vIEZpcnN0IG1ha2UgdGhlIGxhYmVscyBsb29rIHJpZ2h0CgkJCSRncmFwaC0+eWF4aXMtPlNldExhYmVsQWxpZ24oJ2NlbnRlcicsICd0b3AnKTsKCQkJaWYgKCRwZXJjZW50IHx8ICRzaG93X3BlcmNlbnQpIHsKCQkJCSRncmFwaC0+eWF4aXMtPlNldExhYmVsRm9ybWF0KCclZCUlJyk7CgkJCX0KCQkJJGdyYXBoLT55YXhpcy0+U2V0TGFiZWxTaWRlKFNJREVfUklHSFQpOwoJCQkkZ3JhcGgtPnlheGlzLT5zY2FsZS0+U2V0R3JhY2UoMTApOyAgLy8gc2V0cyAxMCUgaGVhZHJvb20KCQkJaWYgKCRoaWRlX3lfYXhpcykgewoJCQkJJGdyYXBoLT55YXhpcy0+SGlkZSgpOwoJCQl9CgkJCWlmICgkaGlkZV9ncmlkKSB7CgkJCQkkZ3JhcGgtPnlncmlkLT5TaG93KGZhbHNlKTsKCQkJfQoKCQkJLy8gVGhlIGZpeCB0aGUgdGljayBtYXJrcwoJCQkkZ3JhcGgtPnlheGlzLT5TZXRUaWNrU2lkZShTSURFX0xFRlQpOwoJCQlpZiAoJHlsYWJlbCkgewoJCQkJJGdyYXBoLT55YXhpcy0+dGl0bGUtPlNldEZvbnQoRkZfVVNFUkZPTlQsIEZTX05PUk1BTCwgOCAqICRrKTsKCQkJCSRncmFwaC0+eWF4aXMtPlNldFRpdGxlKCR5bGFiZWwsICdtaWRkbGUnKTsKCQkJCSRncmFwaC0+eWF4aXMtPlNldFRpdGxlTWFyZ2luKCR5YXhpc2xibG1hcmdpbiAqICRrKTsKCQkJCS8vIEZpbmFsbHkgc2V0dXAgdGhlIHRpdGxlCgkJCQkkZ3JhcGgtPnlheGlzLT5TZXRUaXRsZVNpZGUoU0lERV9SSUdIVCk7CgkJCQkvLyBUbyBhbGlnbiB0aGUgdGl0bGUgdG8gdGhlIHJpZ2h0IHVzZSA6CgkJCQkkZ3JhcGgtPnlheGlzLT50aXRsZS0+QWxpZ24oJ3JpZ2h0Jyk7CgkJCQkkZ3JhcGgtPnlheGlzLT50aXRsZS0+U2V0QW5nbGUoMCk7CgkJCX0KCgkJCS8vIFNob3cgMCBsYWJlbCBvbiBZLWF4aXMgKGRlZmF1bHQgaXMgbm90IHRvIHNob3cpCgkJCSRncmFwaC0+eXNjYWxlLT50aWNrcy0+U3VwcmVzc1plcm9MYWJlbChmYWxzZSk7CgkJCS8vIFNldHVwIFgtYXhpcyBsYWJlbHMKCQkJJGdyYXBoLT54YXhpcy0+U2V0Rm9udChGRl9VU0VSRk9OVCwgRlNfTk9STUFMLCA4ICogJGspOwoJCQkkZ3JhcGgtPnhheGlzLT50aXRsZS0+U2V0QW5nbGUoOTApOwoJCQkkZ3JhcGgtPnhheGlzLT5TZXRUaWNrTGFiZWxzKCRsZWdlbmRzKTsKCQkJJGdyYXBoLT54YXhpcy0+U2V0TGFiZWxNYXJnaW4oNCAqICRrKTsKCQkJLy8gWC1heGlzIHRpdGxlCgkJCWlmICgkeGxhYmVsKSB7CgkJCQkkZ3JhcGgtPnhheGlzLT50aXRsZS0+U2V0Rm9udChGRl9VU0VSRk9OVCwgRlNfTk9STUFMLCA4ICogJGspOwoJCQkJJGdyYXBoLT54YXhpcy0+U2V0VGl0bGVNYXJnaW4oJHhheGlzbGJsbWFyZ2luICogJGspOwoJCQkJJGdyYXBoLT54YXhpcy0+U2V0VGl0bGUoJHhsYWJlbCwgJ21pZGRsZScpOwoJCQl9CgkJCSRncm91cCA9IGFycmF5KCk7CgkJCWZvcmVhY2ggKCRkYXRhIEFTICRzZXJpZXMgPT4gJGRhdCkgewoJCQkJJHJkYXRhID0gYXJyYXkoKTsKCQkJCWZvcmVhY2ggKCRkYXRhWyRzZXJpZXNdIEFTICRyb3cpIHsKCQkJCQkkcmRhdGFbXSA9ICRyb3c7CgkJCQl9CgkJCQkvLyBDcmVhdGUgdGhlIGJhciBwb3QKCQkJCSRicGxvdCA9IG5ldyBCYXJQbG90KCRyZGF0YSk7CgkJCQkkYnBsb3QtPlNldFdpZHRoKDAuNik7IC8vIGZvciBTSU5HTEU/PwoJCQkJLy8gU2V0dXAgY29sb3IgZm9yIGdyYWRpZW50IGZpbGwgc3R5bGUKCQkJCWlmICgkYmFuZHcpIHsKCQkJCQkkYnBsb3QtPlNldFBhdHRlcm4oJHBhdHRlcm5zWyRzZXJpZXNdKTsKCQkJCX0gZWxzZSB7CgkJCQkJJGJwbG90LT5TZXRGaWxsR3JhZGllbnQoJGZpbGxzWyRzZXJpZXNdLCAiI0VFRUVFRSIsIEdSQURfTEVGVF9SRUZMRUNUSU9OKTsKCQkJCX0KCgkJCQkvLyBTZXQgY29sb3IgZm9yIHRoZSBmcmFtZSBvZiBlYWNoIGJhcgoJCQkJJGJwbG90LT5TZXRDb2xvcigiZGFya2dyYXkiKTsKCQkJCSRicGxvdC0+U2V0TGVnZW5kKCRsYWJlbHNbJHNlcmllc10pOwoJCQkJaWYgKCRiYW5kdykgewoJCQkJCSRicGxvdC0+U2V0U2hhZG93KCJncmF5NSIpOwoJCQkJfQoJCQkJaWYgKCRzaG93X3ZhbHVlcykgewoJCQkJCSRicGxvdC0+dmFsdWUtPlNob3coKTsKCQkJCQkkYnBsb3QtPnZhbHVlLT5TZXRNYXJnaW4oNiAqICRrKTsKCQkJCQkkYnBsb3QtPnZhbHVlLT5TZXRDb2xvcigiZGFya3JlZCIpOwoJCQkJCSRicGxvdC0+dmFsdWUtPlNldEZvbnQoRkZfVVNFUkZPTlQsIEZTX05PUk1BTCwgOCAqICRrKTsKCQkJCQlpZiAoJHBlcmNlbnQgfHwgJHNob3dfcGVyY2VudCkgewoJCQkJCQkkYnBsb3QtPnZhbHVlLT5TZXRGb3JtYXQoJyVkJSUnKTsKCQkJCQl9IGVsc2UgewoJCQkJCQkkYnBsb3QtPnZhbHVlLT5TZXRGb3JtYXQoIiVzIik7CgkJCQkJfQoJCQkJfQoKCQkJCSRncm91cFtdID0gJGJwbG90OwoJCQl9CgkJCWlmIChjb3VudCgkZGF0YSkgPT0gMSkgewoJCQkJJGdyYXBoLT5BZGQoJGdyb3VwWzBdKTsKCQkJfSBlbHNlIHsKCQkJCS8vIENyZWF0ZSB0aGUgZ3JvdXBlZCBiYXIgcGxvdAoJCQkJaWYgKCRzdGFja2VkKSB7CgkJCQkJJGdicGxvdCA9IG5ldyBBY2NCYXJQbG90KCRncm91cCk7CgkJCQl9IGVsc2UgewoJCQkJCSRnYnBsb3QgPSBuZXcgR3JvdXBCYXJQbG90KCRncm91cCk7CgkJCQl9CgkJCQkkZ3JhcGgtPkFkZCgkZ2JwbG90KTsKCQkJfQoJCX0KCQlpZiAoJGdyYXBoKSB7CgkJCSRncmFwaC0+U3Ryb2tlKF9NUERGX1BBVEggLiAkZmlndXJlX2ZpbGUpOwoJCQkkc3JjcGF0aCA9IHN0cl9yZXBsYWNlKCJcXCIsICIvIiwgZGlybmFtZShfX0ZJTEVfXykpIC4gIi8iOwoJCQkkc3JjcGF0aCAuPSAkZmlndXJlX2ZpbGU7CgkJCXJldHVybiBhcnJheSgnZmlsZScgPT4gJHNyY3BhdGgsICd3JyA9PiAkdywgJ2gnID0+ICRoKTsKCQl9Cgl9CglyZXR1cm4gZmFsc2U7Cgp9CiI7czo0NToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBuYW1lc3BhY2VzIjthOjA6e31zOjQzOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGluY2x1ZGVzIjthOjA6e31zOjQ0OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGZ1bmN0aW9ucyI7YToxOntzOjE0OiJccHJpbnRfZ3JhcGgoKSI7TzozODoicGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGdW5jdGlvbl8iOjg6e3M6NDU6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZ1bmN0aW9uXwBmcXNlbiI7TzozMDoicGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXEZxc2VuIjoyOntzOjM3OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXEZxc2VuAGZxc2VuIjtzOjE0OiJccHJpbnRfZ3JhcGgoKSI7czozNjoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxGcXNlbgBuYW1lIjtzOjExOiJwcmludF9ncmFwaCI7fXM6NDk6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZ1bmN0aW9uXwBhcmd1bWVudHMiO2E6Mjp7aTowO086Mzc6InBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcQXJndW1lbnQiOjU6e3M6NDM6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEFyZ3VtZW50AG5hbWUiO3M6MToiZyI7czo0MzoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcQXJndW1lbnQAdHlwZSI7TzozNzoicGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFR5cGVzXE1peGVkXyI6MDp7fXM6NDY6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEFyZ3VtZW50AGRlZmF1bHQiO047czo1MDoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcQXJndW1lbnQAYnlSZWZlcmVuY2UiO2I6MDtzOjQ5OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxBcmd1bWVudABpc1ZhcmlhZGljIjtiOjA7fWk6MTtPOjM3OiJwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEFyZ3VtZW50Ijo1OntzOjQzOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxBcmd1bWVudABuYW1lIjtzOjc6InBnd2lkdGgiO3M6NDM6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEFyZ3VtZW50AHR5cGUiO086Mzc6InBocERvY3VtZW50b3JcUmVmbGVjdGlvblxUeXBlc1xNaXhlZF8iOjA6e31zOjQ2OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxBcmd1bWVudABkZWZhdWx0IjtOO3M6NTA6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEFyZ3VtZW50AGJ5UmVmZXJlbmNlIjtiOjA7czo0OToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcQXJndW1lbnQAaXNWYXJpYWRpYyI7YjowO319czo0ODoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRnVuY3Rpb25fAGRvY0Jsb2NrIjtOO3M6NDg6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZ1bmN0aW9uXwBsb2NhdGlvbiI7TzozMzoicGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXExvY2F0aW9uIjoyOntzOjQ1OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXExvY2F0aW9uAGxpbmVOdW1iZXIiO2k6MzU7czo0NzoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxMb2NhdGlvbgBjb2x1bW5OdW1iZXIiO2k6MDt9czo1MToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRnVuY3Rpb25fAGVuZExvY2F0aW9uIjtPOjMzOiJwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cTG9jYXRpb24iOjI6e3M6NDU6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cTG9jYXRpb24AbGluZU51bWJlciI7aTo4NTg7czo0NzoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxMb2NhdGlvbgBjb2x1bW5OdW1iZXIiO2k6MDt9czo1MDoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRnVuY3Rpb25fAHJldHVyblR5cGUiO086Mzc6InBocERvY3VtZW50b3JcUmVmbGVjdGlvblxUeXBlc1xNaXhlZF8iOjA6e31zOjYwOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGdW5jdGlvbl8AaGFzUmV0dXJuQnlSZWZlcmVuY2UiO2I6MDtzOjQ4OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGdW5jdGlvbl8AbWV0YWRhdGEiO2E6MDp7fX19czo0NDoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBjb25zdGFudHMiO2E6MTp7czoxMjoiXEZGX1VTRVJGT05UIjtPOjM3OiJwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXENvbnN0YW50Ijo4OntzOjQ0OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxDb25zdGFudABmcXNlbiI7TzozMDoicGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXEZxc2VuIjoyOntzOjM3OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXEZxc2VuAGZxc2VuIjtzOjEyOiJcRkZfVVNFUkZPTlQiO3M6MzY6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cRnFzZW4AbmFtZSI7czoxMToiRkZfVVNFUkZPTlQiO31zOjQ3OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxDb25zdGFudABkb2NCbG9jayI7TjtzOjQ0OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxDb25zdGFudAB2YWx1ZSI7czoyOiIxNSI7czo0NzoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcQ29uc3RhbnQAbG9jYXRpb24iO086MzM6InBocERvY3VtZW50b3JcUmVmbGVjdGlvblxMb2NhdGlvbiI6Mjp7czo0NToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxMb2NhdGlvbgBsaW5lTnVtYmVyIjtpOjQ7czo0NzoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxMb2NhdGlvbgBjb2x1bW5OdW1iZXIiO2k6MDt9czo1MDoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcQ29uc3RhbnQAZW5kTG9jYXRpb24iO086MzM6InBocERvY3VtZW50b3JcUmVmbGVjdGlvblxMb2NhdGlvbiI6Mjp7czo0NToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxMb2NhdGlvbgBsaW5lTnVtYmVyIjtpOjQ7czo0NzoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxMb2NhdGlvbgBjb2x1bW5OdW1iZXIiO2k6MDt9czo0OToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcQ29uc3RhbnQAdmlzaWJpbGl0eSI7TzozOToicGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxWaXNpYmlsaXR5IjoxOntzOjUxOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxWaXNpYmlsaXR5AHZpc2liaWxpdHkiO3M6NjoicHVibGljIjt9czo0NDoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcQ29uc3RhbnQAZmluYWwiO2I6MDtzOjQ3OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxDb25zdGFudABtZXRhZGF0YSI7YTowOnt9fX1zOjQyOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGNsYXNzZXMiO2E6MDp7fXM6NDU6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAaW50ZXJmYWNlcyI7YTowOnt9czo0MToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQB0cmFpdHMiO2E6MDp7fXM6NDA6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAZW51bXMiO2E6MDp7fXM6NDM6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAbWV0YWRhdGEiO2E6MDp7fX0=";